name: on_push
on:
  push:
    branches: [ "*" ]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      # - name: 'Checkout'
      #   uses: actions/checkout@v3
      # - name: 'Run Tests'
      #   run: swift test --parallel
      - run: mkdir -p path/to/artifact
      - run: echo hello > path/to/artifact/hello.txt
      - run: echo world > path/to/artifact/world.txt
      - uses: actions/upload-artifact@master
        with:
          name: my-artifact
          path: path/to/artifact
  coverage:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/download-artifact@master
        with:
          name: my-artifact
          path: path/to/artifact
      - run: cat path/to/artifact/hello.txt
      - run: cat path/to/artifact/world.txt
